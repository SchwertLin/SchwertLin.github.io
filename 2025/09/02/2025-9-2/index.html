<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="author" content="Schwertlilien"/><meta name="keyword"/><meta name="description" content="CVPR2024: OVFoodSeg: Elevating Open-Vocabulary Food Image Segmentation via Image-Informed Textual Representation  ä»¥two-stageè®­ç»ƒ ä¸€ã€Stage Iï¼šFoodLearner Pre-training çš„ Lossæ€»ç›®æ ‡Stage I æ˜¯ FoodLearner é¢„è®­ç»ƒï¼Œè¦è§£">
<meta property="og:type" content="article">
<meta property="og:title" content="2025-9-2">
<meta property="og:url" content="http://example.com/2025/09/02/2025-9-2/index.html">
<meta property="og:site_name" content="Schwertlilien">
<meta property="og:description" content="CVPR2024: OVFoodSeg: Elevating Open-Vocabulary Food Image Segmentation via Image-Informed Textual Representation  ä»¥two-stageè®­ç»ƒ ä¸€ã€Stage Iï¼šFoodLearner Pre-training çš„ Lossæ€»ç›®æ ‡Stage I æ˜¯ FoodLearner é¢„è®­ç»ƒï¼Œè¦è§£">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-09-02T09:02:38.000Z">
<meta property="article:modified_time" content="2025-09-03T08:39:15.769Z">
<meta property="article:author" content="Schwertlilien">
<meta property="article:tag" content="è®ºæ–‡é˜…è¯»">
<meta name="twitter:card" content="summary"><title>2025-9-2 - Schwertlilien - -----personal blog-----</title><link rel="shortcut icon" href="/img/site-icon.png">
<link rel="stylesheet" href="/css/style.css" id="dm-light">


<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
<meta name="generator" content="Hexo 7.3.0"></head><body><header><div class="top-nav" ondblclick="scrollToTop()"><div class="nav-info"><div class="nav-icon"><img id="nav-icon" src="/img/site-icon.png"/></div><div class="nav-title"><a id="nav-title" href="/" title="ä¸»é¡µ">Schwertlilien</a></div></div><div class="nav-ribbon"><div class="top-menu-expanded"><a class="top-menu-item" href="/archives"><span>å½’æ¡£</span></a><a class="top-menu-item" href="/categories"><span>åˆ†ç±»</span></a><a class="top-menu-item" href="/tags"><span>æ ‡ç­¾</span></a><a class="top-menu-item" href="/about"><span>å…³äº</span></a></div><div class="top-search" onclick="toggleSearchWindow()"><div id="top-search-btn" title="æœç´¢"><i class="icon fa-solid fa-magnifying-glass"></i><span>æœç´¢</span></div></div><div id="top-menu-btn" onclick="openTopMenu()" title="æ‰“å¼€èœå•"><i class="fa-solid fa-bars fa-lg"></i></div></div></div></header><div id="top-menu-hidden"><div class="menu-hidden-content"><div class="menu-hidden-nav"><a class="menu-hidden-item" href="/archives"><i class="fa-solid fa-box-archive fa-sm"></i><span>å½’æ¡£</span></a><a class="menu-hidden-item" href="/categories"><i class="fa-regular fa-folder-open fa-sm"></i><span>åˆ†ç±»</span></a><a class="menu-hidden-item" href="/tags"><i class="fa-solid fa-tags fa-sm"></i><span>æ ‡ç­¾</span></a><a class="menu-hidden-item" href="/about"><i class="fa-solid fa-paw fa-sm"></i><span>å…³äº</span></a></div></div><div class="menu-hidden-blank" onclick="closeTopMenu()"></div></div>
<div class="blog-info"><div class="blog-pic"><img id="blog-pic" src="/img/site-icon.png"/></div><div class="blog-title"><i class="fa-solid fa-paw fa-2xs fa-rotate-by"></i><span>Schwertlilien</span><i class="fa-solid fa-paw fa-2xs fa-rotate-by"></i></div><div class="blog-desc">As a recoder: notes and ideas.</div></div><div class="main"><div class="main-content"><article class="post"><div class="post-title"><h1><i class="fa-solid fa-paw"></i>2025-9-2</h1></div><div class="post-info"><div class="post-info-first-line"><div class="post-date"><i class="icon fa-regular fa-calendar-plus" title="å‘å¸ƒæ—¥æœŸ"></i><time class="publish-time">2025-09-02</time><i class="icon fa-regular fa-calendar-check" title="æ›´æ–°æ—¥æœŸ"></i><time class="update-time">2025-09-03</time></div>

<div class="post-tags"><i class="icon fa-solid fa-tags" title="æ ‡ç­¾"></i><a class="post-tag" href="/tags/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/">è®ºæ–‡é˜…è¯»</a></div></div><div class="post-info-second-line"><div class="post-copyright"><i class="icon fa-brands fa-creative-commons" title="ç‰ˆæƒå£°æ˜"></i><span>ç‰ˆæƒå£°æ˜: </span><a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh-hans" title="CC BY-NC-ND 4.0">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0</a></div>
<div class="post-word-count"><i class="icon fa-solid fa-pen-to-square"></i><span>å…¨æ–‡çº¦1.2Kå­—</span></div><div class="pageview-post"><i class="icon fa-regular fa-eye"></i><span id="busuanzi_container_page_pv">é˜…è¯»æ¬¡æ•°: <span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner"></i></span></span></div></div></div><div class="post-content"><blockquote>
<p>CVPR2024: OVFoodSeg: Elevating Open-Vocabulary Food Image Segmentation via Image-Informed Textual Representation</p>
</blockquote>
<p>ä»¥two-stageè®­ç»ƒ</p>
<h1 id="ä¸€ã€Stage-Iï¼šFoodLearner-Pre-training-çš„-Loss"><a href="#ä¸€ã€Stage-Iï¼šFoodLearner-Pre-training-çš„-Loss" class="headerlink" title="ä¸€ã€Stage Iï¼šFoodLearner Pre-training çš„ Loss"></a>ä¸€ã€Stage Iï¼šFoodLearner Pre-training çš„ Loss</h1><h3 id="æ€»ç›®æ ‡"><a href="#æ€»ç›®æ ‡" class="headerlink" title="æ€»ç›®æ ‡"></a>æ€»ç›®æ ‡</h3><p>Stage I æ˜¯ <strong>FoodLearner é¢„è®­ç»ƒ</strong>ï¼Œè¦è§£å†³çš„é—®é¢˜ï¼š</p>
<ul>
<li><strong>ITC Loss</strong> â†’ å›¾æ–‡å…¨å±€å¯¹é½ï¼ˆimage-text matching at embedding levelï¼‰</li>
<li><strong>ITM Loss</strong> â†’ å›¾æ–‡å±€éƒ¨åŒ¹é…ï¼ˆäºŒåˆ†ç±» matching/not matchingï¼‰</li>
<li><strong>LM Loss</strong> â†’ ä¿è¯ FoodLearner çœŸçš„æŠŠè§†è§‰çŸ¥è¯†â€œæ³¨å…¥â€åˆ°æ–‡æœ¬ä¸­</li>
</ul>
<h2 id="1-ITC-Loss-Image-Text-Contrastive-Loss"><a href="#1-ITC-Loss-Image-Text-Contrastive-Loss" class="headerlink" title="1. ITC Loss (Image-Text Contrastive Loss)"></a>1. ITC Loss (Image-Text Contrastive Loss)</h2><h3 id="å…¬å¼"><a href="#å…¬å¼" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h3><p>$L_{ITC} = \frac{1}{2}\big(CE(p_{t2i}, GT_{t2i}) + CE(p_{i2t}, GT_{i2t})\big)$</p>
<h3 id="ç¬¦å·"><a href="#ç¬¦å·" class="headerlink" title="ç¬¦å·"></a>ç¬¦å·</h3><ul>
<li>$\hat{T}_{query}$ï¼šå›¾åƒç»è¿‡ FoodLearner å¾—åˆ°çš„ query tokensï¼ˆè§†è§‰å¢å¼ºåçš„è¡¨ç¤ºï¼‰ã€‚</li>
<li>$\hat{T}_{text}$ï¼šæ–‡æœ¬ç»è¿‡ FoodLearner å¾—åˆ°çš„æ–‡æœ¬ tokensã€‚</li>
<li>$\phi$ï¼šæ¸©åº¦å‚æ•°ï¼Œæ§åˆ¶åˆ†å¸ƒçš„å°–é”ç¨‹åº¦ï¼ˆè¶Šå¤§è¶Šâ€œç¡¬â€ï¼‰ã€‚</li>
<li>$\langle a, b \rangle$ï¼šä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆcosine similarityï¼‰ã€‚</li>
<li>$p_{t2i}$ï¼š<strong>text-to-image ç›¸ä¼¼åº¦æ¦‚ç‡åˆ†å¸ƒ</strong>ï¼Œè¡¨ç¤ºç»™å®šä¸€æ®µæ–‡æœ¬ï¼Œå®ƒå’Œä¸åŒå›¾åƒåŒ¹é…çš„æ¦‚ç‡ã€‚</li>
<li>$p_{i2t}$ï¼š<strong>image-to-text ç›¸ä¼¼åº¦æ¦‚ç‡åˆ†å¸ƒ</strong>ï¼Œè¡¨ç¤ºç»™å®šä¸€å¼ å›¾ï¼Œå®ƒå’Œä¸åŒæ–‡æœ¬åŒ¹é…çš„æ¦‚ç‡ã€‚</li>
<li>$GT_{t2i}, GT_{i2t}$ï¼šçœŸå®æ ‡ç­¾ï¼ˆ1 è¡¨ç¤ºé…å¯¹æ­£ç¡®ï¼Œ0 è¡¨ç¤ºé”™è¯¯ï¼‰ã€‚</li>
</ul>
<h3 id="è®¾è®¡-ITCï¼Ÿ"><a href="#è®¾è®¡-ITCï¼Ÿ" class="headerlink" title="è®¾è®¡ ITCï¼Ÿ"></a>è®¾è®¡ ITCï¼Ÿ</h3><ul>
<li>CLIP è®­ç»ƒçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ç”¨ <strong>å¯¹æ¯”å­¦ä¹ </strong> è®©å›¾åƒå’Œæ–‡æœ¬ embedding åœ¨è¯­ä¹‰ç©ºé—´å¯¹é½ã€‚</li>
<li>åœ¨ FoodLearner é‡Œä¿ç•™ ITCï¼Œå¯ä»¥ä¿è¯å¢å¼ºåçš„ embedding ä»ç„¶èƒ½ç»´æŒè¿™ç§ <strong>è·¨æ¨¡æ€å¯¹é½èƒ½åŠ›</strong>ã€‚</li>
</ul>
<h2 id="2-ITM-Loss-Image-Text-Matching-Loss"><a href="#2-ITM-Loss-Image-Text-Matching-Loss" class="headerlink" title="2. ITM Loss (Image-Text Matching Loss)"></a>2. ITM Loss (Image-Text Matching Loss)</h2><h3 id="å…¬å¼-1"><a href="#å…¬å¼-1" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h3><p>$L_{ITM} = CE(p_{itm}, GT_{itm})$$p_{itm} = \frac{1}{Q}\sum_{t=1}^Q FC(\tilde{T}^t_{query})$</p>
<h3 id="ç¬¦å·è§£é‡Š"><a href="#ç¬¦å·è§£é‡Š" class="headerlink" title="ç¬¦å·è§£é‡Š"></a>ç¬¦å·è§£é‡Š</h3><ul>
<li>$Q$ï¼šquery token çš„æ•°é‡ã€‚</li>
<li>$\tilde{T}_{query}$ï¼šå›¾åƒ embedding + æ–‡æœ¬ token ä¸€èµ·è¾“å…¥ FoodLearner åå¾—åˆ°çš„ multimodal token è¡¨ç¤ºã€‚</li>
<li>$FC(\cdot)$ï¼šå…¨è¿æ¥å±‚è¾“å‡ºä¸€ä¸ªæ¦‚ç‡ã€‚</li>
<li>$p_{itm}$ï¼šé¢„æµ‹çš„å›¾æ–‡æ˜¯å¦åŒ¹é…çš„æ¦‚ç‡ã€‚</li>
<li>$GT_{itm}$ï¼šground truthï¼ˆ1 è¡¨ç¤ºåŒ¹é…ï¼Œ0 è¡¨ç¤ºä¸åŒ¹é…ï¼‰ã€‚</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆè®¾è®¡-ITMï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè®¾è®¡-ITMï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè®¾è®¡ ITMï¼Ÿ"></a>ä¸ºä»€ä¹ˆè®¾è®¡ ITMï¼Ÿ</h3><ul>
<li>ITC æ˜¯å…¨å±€å¯¹é½ï¼Œä½†å¯èƒ½å¿½ç•¥äº†ç»†èŠ‚ã€‚</li>
<li>ITM å¼ºåˆ¶æ¨¡å‹ <strong>é€å¯¹åˆ¤æ–­</strong> â€œè¿™å¼ å›¾ç‰‡å’Œè¿™å¥è¯æ˜¯ä¸æ˜¯ä¸€å¯¹â€ï¼Œ</li>
<li>èƒ½è®©æ¨¡å‹æ›´ç»†ç²’åº¦åœ°å­¦ä¹ å¯¹é½å…³ç³»ã€‚</li>
<li>è¿™ä¹Ÿæ˜¯å¾ˆå¤š VLMï¼ˆæ¯”å¦‚ BLIP2ï¼‰å¸¸ç”¨çš„ trickã€‚</li>
</ul>
<h2 id="3-LM-Loss-Language-Modeling-Loss"><a href="#3-LM-Loss-Language-Modeling-Loss" class="headerlink" title="3. LM Loss (Language Modeling Loss)"></a>3. LM Loss (Language Modeling Loss)</h2><h3 id="å…¬å¼-2"><a href="#å…¬å¼-2" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h3><p>$L_{LM} = \frac{1}{W}\sum_{w=1}^W CE(p^w_{word}, GT_{word})$</p>
<h3 id="ç¬¦å·è§£é‡Š-1"><a href="#ç¬¦å·è§£é‡Š-1" class="headerlink" title="ç¬¦å·è§£é‡Š"></a>ç¬¦å·è§£é‡Š</h3><ul>
<li>$W$ï¼šå¥å­ä¸­çš„ token æ•°ã€‚</li>
<li>$T_{text}$ï¼šæ–‡æœ¬ tokensã€‚</li>
<li>$\hat{T}_{query}$ï¼šFoodLearner ç”Ÿæˆçš„ query tokensï¼ŒåŒ…å«è§†è§‰ä¿¡æ¯ã€‚</li>
<li>$\tilde{T}_{text} = FL(NULL, \hat{T}_{query}; T_{text})$ï¼šèåˆ query å’Œæ–‡æœ¬åå¾—åˆ°çš„æ–°æ–‡æœ¬ token åºåˆ—ã€‚</li>
<li>$p^w_{word} = FC(\tilde{T}^w_{text})$ï¼šé¢„æµ‹ç¬¬ $w$ ä¸ª token çš„æ¦‚ç‡åˆ†å¸ƒï¼ˆsoftmax over vocabularyï¼‰ã€‚<ul>
<li><strong>å«ä¹‰</strong>ï¼šåœ¨çœ‹åˆ°å‰é¢ token å’Œ query çš„æ¡ä»¶ä¸‹ï¼Œé¢„æµ‹ç¬¬ $w$ ä¸ªè¯æ˜¯å“ªä¸ªè¯ã€‚</li>
</ul>
</li>
<li>$GT_{word}$ï¼šçœŸå®çš„ç¬¬ $w$ ä¸ªè¯ã€‚</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆè®¾è®¡-LMï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè®¾è®¡-LMï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè®¾è®¡ LMï¼Ÿ"></a>ä¸ºä»€ä¹ˆè®¾è®¡ LMï¼Ÿ</h3><ul>
<li>å¦‚æœåªåš ITC/ITMï¼ŒFoodLearner å¯èƒ½åªå­¦åˆ° <strong>embedding å±‚é¢çš„å¯¹é½</strong>ï¼Œè€Œæ²¡æœ‰çœŸæ­£æŠŠè§†è§‰çŸ¥è¯†â€œå†™è¿›â€æ–‡æœ¬ embeddingã€‚</li>
<li>LM loss è®©æ¨¡å‹å°è¯• <strong>åœ¨æ–‡æœ¬ç”Ÿæˆä¸­ä½¿ç”¨è§†è§‰ä¿¡æ¯</strong>ï¼Œä»è€Œä¿è¯æ–‡æœ¬ embedding çœŸæ­£å¸¦æœ‰å›¾åƒç‰¹å¾ã€‚</li>
<li>ç±»ä¼¼äºâ€œå›¾åƒæŒ‡å¯¼ä¸‹çš„è¯­è¨€å»ºæ¨¡â€ã€‚</li>
</ul>
<hr>
<h2 id="Stage-I-æ€»æŸå¤±"><a href="#Stage-I-æ€»æŸå¤±" class="headerlink" title="Stage I æ€»æŸå¤±"></a>Stage I æ€»æŸå¤±</h2><p>$L_{StageI} = L_{ITC} + L_{ITM} + L_{LM}$</p>
<p>ğŸ‘‰ ä¸‰è€…ç»“åˆï¼š</p>
<ul>
<li>ITC ä¿è¯è¯­ä¹‰ç©ºé—´å¯¹é½</li>
<li>ITM ä¿è¯å›¾æ–‡åŒ¹é…æ›´ç²¾ç»†</li>
<li>LM ä¿è¯è§†è§‰ä¿¡æ¯èå…¥æ–‡æœ¬</li>
</ul>
<hr>
<h1 id="äºŒã€Stage-IIï¼šSegmentation-Learning-çš„-Loss"><a href="#äºŒã€Stage-IIï¼šSegmentation-Learning-çš„-Loss" class="headerlink" title="äºŒã€Stage IIï¼šSegmentation Learning çš„ Loss"></a>äºŒã€Stage IIï¼šSegmentation Learning çš„ Loss</h1><p>Stage II ä¸»è¦ä»»åŠ¡æ˜¯ <strong>open-vocabulary segmentation</strong>ï¼Œæ‰€ä»¥æŸå¤±å‡½æ•°åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š<strong>åˆ†ç±» + æ©ç </strong>ã€‚</p>
<hr>
<h2 id="1-åˆ†ç±»æŸå¤±ï¼ˆCross-Entropyï¼‰"><a href="#1-åˆ†ç±»æŸå¤±ï¼ˆCross-Entropyï¼‰" class="headerlink" title="1. åˆ†ç±»æŸå¤±ï¼ˆCross-Entropyï¼‰"></a>1. åˆ†ç±»æŸå¤±ï¼ˆCross-Entropyï¼‰</h2><h3 id="å…¬å¼-3"><a href="#å…¬å¼-3" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h3><p>$P^i_{cls} = \frac{\exp(\tau \cdot \langle T_{proposal}, \tilde{E}^i_{text}\rangle)}{\sum_j \exp(\tau \cdot \langle T_{proposal}, \tilde{E}^j_{text}\rangle)}$$L_{cls} = CE(P_{cls}, GT_{cls})$</p>
<h3 id="ç¬¦å·è§£é‡Š-2"><a href="#ç¬¦å·è§£é‡Š-2" class="headerlink" title="ç¬¦å·è§£é‡Š"></a>ç¬¦å·è§£é‡Š</h3><ul>
<li>$T_{proposal}$ï¼šæ¥è‡ª SAN çš„ region-level tokenï¼ˆå¯¹åº”å›¾åƒæŸä¸ªåŒºåŸŸï¼‰ã€‚</li>
<li>$\tilde{E}^i_{text}$ï¼šimage-informed çš„ç¬¬ $i$ ç±»æ–‡æœ¬ embeddingã€‚</li>
<li>$\langle \cdot, \cdot \rangle$ï¼šä½™å¼¦ç›¸ä¼¼åº¦ã€‚</li>
<li>$\tau$ï¼šæ¸©åº¦å‚æ•°ï¼ˆè®ºæ–‡é‡Œè®¾ä¸º 100ï¼‰ã€‚</li>
<li>$P^i_{cls}$ï¼šproposal å±äºç¬¬ $i$ ç±»çš„æ¦‚ç‡ã€‚</li>
<li>$GT_{cls}$ï¼šproposal çš„çœŸå®ç±»åˆ«ã€‚</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆç”¨-Cross-Entropyï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆç”¨-Cross-Entropyï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆç”¨ Cross-Entropyï¼Ÿ"></a>ä¸ºä»€ä¹ˆç”¨ Cross-Entropyï¼Ÿ</h3><ul>
<li>åˆ†ç±»ä»»åŠ¡æ ‡å‡†åšæ³•å°±æ˜¯ softmax + CEã€‚</li>
<li>èƒ½æœ€å¤§åŒ–æ­£ç¡®ç±»åˆ«çš„æ¦‚ç‡ï¼ŒåŒæ—¶å‹ä½é”™è¯¯ç±»åˆ«çš„æ¦‚ç‡ã€‚</li>
</ul>
<hr>
<h2 id="2-æ©ç æŸå¤±ï¼ˆDice-Lossï¼‰"><a href="#2-æ©ç æŸå¤±ï¼ˆDice-Lossï¼‰" class="headerlink" title="2. æ©ç æŸå¤±ï¼ˆDice Lossï¼‰"></a>2. æ©ç æŸå¤±ï¼ˆDice Lossï¼‰</h2><h3 id="å…¬å¼-4"><a href="#å…¬å¼-4" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h3><p>$L_{mask} = Dice(P_{mask}, GT_{mask})$</p>
<h3 id="ç¬¦å·è§£é‡Š-3"><a href="#ç¬¦å·è§£é‡Š-3" class="headerlink" title="ç¬¦å·è§£é‡Š"></a>ç¬¦å·è§£é‡Š</h3><ul>
<li>$P_{mask}$ï¼šé¢„æµ‹çš„äºŒå€¼ maskï¼ˆåƒç´ æ¦‚ç‡ï¼‰ã€‚</li>
<li>$GT_{mask}$ï¼šçœŸå®çš„åˆ†å‰²æ©ç ã€‚</li>
</ul>
<p>Dice ç³»æ•°å…¬å¼ï¼ˆç”¨äºè¡¡é‡ä¸¤ä¸ªé›†åˆçš„é‡å åº¦ï¼‰ï¼š</p>
<p>$Dice(A, B) = \frac{2|A \cap B|}{|A| + |B|}$</p>
<p>Dice Loss = $1 - Dice$ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆé€‰-Dice-Lossï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆé€‰-Dice-Lossï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰ Dice Lossï¼Ÿ"></a>ä¸ºä»€ä¹ˆé€‰ Dice Lossï¼Ÿ</h3><ul>
<li>åœ¨åˆ†å‰²ä»»åŠ¡é‡Œï¼Œç±»åˆ«ç»å¸¸ä¸å¹³è¡¡ï¼ˆå‰æ™¯å°ï¼ŒèƒŒæ™¯å¤§ï¼‰ã€‚</li>
<li>Dice Loss ä¸“é—¨è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒç›´æ¥è¡¡é‡ <strong>é¢„æµ‹åŒºåŸŸå’ŒçœŸå®åŒºåŸŸçš„é‡å ç¨‹åº¦</strong>ã€‚</li>
<li>æ¯” CE æ›´é€‚åˆ mask é¢„æµ‹ã€‚</li>
</ul>
<h2 id="Stage-II-æ€»æŸå¤±"><a href="#Stage-II-æ€»æŸå¤±" class="headerlink" title="Stage II æ€»æŸå¤±"></a>Stage II æ€»æŸå¤±</h2><p>$L_{StageII} = L_{cls} + L_{mask}$</p>
<h1 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h1><ul>
<li><strong>Stage I (FoodLearner Pre-training)</strong><ul>
<li>ITCï¼šå…¨å±€è¯­ä¹‰å¯¹é½ï¼ˆä¿è¯ embedding åŒ¹é…ï¼‰ã€‚</li>
<li>ITMï¼šç»†ç²’åº¦å¯¹é½ï¼ˆäºŒåˆ†ç±»åŒ¹é…ä»»åŠ¡ï¼‰ã€‚</li>
<li>LMï¼šæŠŠå›¾åƒçŸ¥è¯†èå…¥æ–‡æœ¬è¡¨ç¤ºã€‚</li>
</ul>
</li>
<li><strong>Stage II (Segmentation Learning)</strong><ul>
<li>CE åˆ†ç±»æŸå¤±ï¼šä¿è¯åŒºåŸŸåˆ†ç±»æ­£ç¡®ã€‚</li>
<li>Dice æ©ç æŸå¤±ï¼šä¿è¯åƒç´ åˆ†å‰²æ­£ç¡®ï¼Œç‰¹åˆ«é€‚åˆå‰æ™¯ç¨€ç–çš„åœºæ™¯ã€‚</li>
</ul>
</li>
</ul>
</div><div class="post-end"><div class="post-prev"><a href="/2025/09/03/2025-9-3/" title="ä¸Šä¸€ç¯‡æ–‡ç« "><i class="fa-solid fa-chevron-left fa-lg"></i></a></div><div class="post-next"><a href="/2025/09/01/2025-9-1/" title="ä¸‹ä¸€ç¯‡æ–‡ç« "><i class="fa-solid fa-chevron-right fa-lg"></i></a></div></div></article><div class="comment" id="comment"><script src="https://giscus.app/client.js" data-repo="SchwertLin/SwertLin_Blog_Comment" data-repo-id="R_kgDONXjrCQ" data-category="Announcements" data-category-id="DIC_kwDONXjrCc4Cky9X" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="zh-CN" crossorigin="anonymous" async="async"></script></div><div id="post-toc"><aside class="toc-aside"><div class="toc-title"><span><i class="fa-solid fa-paw"></i>ç›®å½•</span></div><div class="toc-container" id="toc-body"><ol class="toc-content"><li class="toc-content-item toc-content-level-1"><a class="toc-content-link" href="#%E4%B8%80%E3%80%81Stage-I%EF%BC%9AFoodLearner-Pre-training-%E7%9A%84-Loss"><span class="toc-content-number">1.</span> <span class="toc-content-text">ä¸€ã€Stage Iï¼šFoodLearner Pre-training çš„ Loss</span></a><ol class="toc-content-child"><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E6%80%BB%E7%9B%AE%E6%A0%87"><span class="toc-content-number">1.0.1.</span> <span class="toc-content-text">æ€»ç›®æ ‡</span></a></li></ol></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#1-ITC-Loss-Image-Text-Contrastive-Loss"><span class="toc-content-number">1.1.</span> <span class="toc-content-text">1. ITC Loss (Image-Text Contrastive Loss)</span></a><ol class="toc-content-child"><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E5%85%AC%E5%BC%8F"><span class="toc-content-number">1.1.1.</span> <span class="toc-content-text">å…¬å¼</span></a></li><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E7%AC%A6%E5%8F%B7"><span class="toc-content-number">1.1.2.</span> <span class="toc-content-text">ç¬¦å·</span></a></li><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E8%AE%BE%E8%AE%A1-ITC%EF%BC%9F"><span class="toc-content-number">1.1.3.</span> <span class="toc-content-text">è®¾è®¡ ITCï¼Ÿ</span></a></li></ol></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#2-ITM-Loss-Image-Text-Matching-Loss"><span class="toc-content-number">1.2.</span> <span class="toc-content-text">2. ITM Loss (Image-Text Matching Loss)</span></a><ol class="toc-content-child"><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E5%85%AC%E5%BC%8F-1"><span class="toc-content-number">1.2.1.</span> <span class="toc-content-text">å…¬å¼</span></a></li><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E7%AC%A6%E5%8F%B7%E8%A7%A3%E9%87%8A"><span class="toc-content-number">1.2.2.</span> <span class="toc-content-text">ç¬¦å·è§£é‡Š</span></a></li><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AE%BE%E8%AE%A1-ITM%EF%BC%9F"><span class="toc-content-number">1.2.3.</span> <span class="toc-content-text">ä¸ºä»€ä¹ˆè®¾è®¡ ITMï¼Ÿ</span></a></li></ol></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#3-LM-Loss-Language-Modeling-Loss"><span class="toc-content-number">1.3.</span> <span class="toc-content-text">3. LM Loss (Language Modeling Loss)</span></a><ol class="toc-content-child"><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E5%85%AC%E5%BC%8F-2"><span class="toc-content-number">1.3.1.</span> <span class="toc-content-text">å…¬å¼</span></a></li><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E7%AC%A6%E5%8F%B7%E8%A7%A3%E9%87%8A-1"><span class="toc-content-number">1.3.2.</span> <span class="toc-content-text">ç¬¦å·è§£é‡Š</span></a></li><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AE%BE%E8%AE%A1-LM%EF%BC%9F"><span class="toc-content-number">1.3.3.</span> <span class="toc-content-text">ä¸ºä»€ä¹ˆè®¾è®¡ LMï¼Ÿ</span></a></li></ol></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#Stage-I-%E6%80%BB%E6%8D%9F%E5%A4%B1"><span class="toc-content-number">1.4.</span> <span class="toc-content-text">Stage I æ€»æŸå¤±</span></a></li></ol></li><li class="toc-content-item toc-content-level-1"><a class="toc-content-link" href="#%E4%BA%8C%E3%80%81Stage-II%EF%BC%9ASegmentation-Learning-%E7%9A%84-Loss"><span class="toc-content-number">2.</span> <span class="toc-content-text">äºŒã€Stage IIï¼šSegmentation Learning çš„ Loss</span></a><ol class="toc-content-child"><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#1-%E5%88%86%E7%B1%BB%E6%8D%9F%E5%A4%B1%EF%BC%88Cross-Entropy%EF%BC%89"><span class="toc-content-number">2.1.</span> <span class="toc-content-text">1. åˆ†ç±»æŸå¤±ï¼ˆCross-Entropyï¼‰</span></a><ol class="toc-content-child"><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E5%85%AC%E5%BC%8F-3"><span class="toc-content-number">2.1.1.</span> <span class="toc-content-text">å…¬å¼</span></a></li><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E7%AC%A6%E5%8F%B7%E8%A7%A3%E9%87%8A-2"><span class="toc-content-number">2.1.2.</span> <span class="toc-content-text">ç¬¦å·è§£é‡Š</span></a></li><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8-Cross-Entropy%EF%BC%9F"><span class="toc-content-number">2.1.3.</span> <span class="toc-content-text">ä¸ºä»€ä¹ˆç”¨ Cross-Entropyï¼Ÿ</span></a></li></ol></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#2-%E6%8E%A9%E7%A0%81%E6%8D%9F%E5%A4%B1%EF%BC%88Dice-Loss%EF%BC%89"><span class="toc-content-number">2.2.</span> <span class="toc-content-text">2. æ©ç æŸå¤±ï¼ˆDice Lossï¼‰</span></a><ol class="toc-content-child"><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E5%85%AC%E5%BC%8F-4"><span class="toc-content-number">2.2.1.</span> <span class="toc-content-text">å…¬å¼</span></a></li><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E7%AC%A6%E5%8F%B7%E8%A7%A3%E9%87%8A-3"><span class="toc-content-number">2.2.2.</span> <span class="toc-content-text">ç¬¦å·è§£é‡Š</span></a></li><li class="toc-content-item toc-content-level-3"><a class="toc-content-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89-Dice-Loss%EF%BC%9F"><span class="toc-content-number">2.2.3.</span> <span class="toc-content-text">ä¸ºä»€ä¹ˆé€‰ Dice Lossï¼Ÿ</span></a></li></ol></li><li class="toc-content-item toc-content-level-2"><a class="toc-content-link" href="#Stage-II-%E6%80%BB%E6%8D%9F%E5%A4%B1"><span class="toc-content-number">2.3.</span> <span class="toc-content-text">Stage II æ€»æŸå¤±</span></a></li></ol></li><li class="toc-content-item toc-content-level-1"><a class="toc-content-link" href="#%E4%B8%89%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-content-number">3.</span> <span class="toc-content-text">ä¸‰ã€æ€»ç»“</span></a></li></ol></div></aside><div class="toc-blank" onclick="tocToggle()"></div></div><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  }
});
MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for(i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.8/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async="async"></script></div></div><div id="tool-bar"><div id="tool-bar-main"><div id="tool-toggle" onclick="toolToggle()" title="è®¾ç½®"><i class="fa-solid fa-gear"></i></div><div id="toc-toggle" onclick="tocToggle()" title="ç›®å½•"><i class="fa-solid fa-list-ul"></i></div><div id="go-to-comment" onclick="gotoComment()" title="è¯„è®º"><i class="fa-regular fa-message fa-flip-horizontal"></i></div><div id="back-to-top" onclick="scrollToTop()" title="è¿”å›é¡¶éƒ¨"><i class="fa-solid fa-chevron-up"></i></div></div><div id="tool-bar-more" style="display: none;"><div id="darkmode-switch" onclick="darkmodeSwitch()" title="æ·±è‰²æ¨¡å¼"><i class="fa-solid fa-circle-half-stroke"></i></div><div id="font-size-increase" onclick="fontSizeIncrease()" title="æ”¾å¤§å­—ä½“"><i class="fa-solid fa-plus"></i></div><div id="font-size-decrease" onclick="fontSizeDecrease()" title="ç¼©å°å­—ä½“"><i class="fa-solid fa-minus"></i></div></div></div><div id="search-panel"><div class="search-container"><div class="search-head"><div class="search-title"><span><i class="fa-solid fa-paw"></i>æœç´¢</span></div><div class="search-close-btn" onclick="toggleSearchWindow()"><i class="fa-regular fa-circle-xmark"></i></div></div><div class="search-box"><i class="fa-solid fa-magnifying-glass"></i><input id="search-input" type="text" placeholder="è¯·è¾“å…¥éœ€è¦æœç´¢çš„å†…å®¹â€¦â€¦" value=""/></div><div class="search-body"><div id="search-count">åŒ¹é…ç»“æœæ•°: </div><div id="search-result"></div><div id="search-result-empty">æœªæœç´¢åˆ°åŒ¹é…çš„æ–‡ç« ã€‚</div></div></div></div><footer><div class="footer-content"><div class="copyright-info"><i class="fa-regular fa-copyright fa-xs"></i><span>2022 - 2025 </span><a href="/about">Schwertlilien</a><i class="fa-solid fa-cat fa-sm"></i><span>Powered by </span><a href="https://hexo.io/" target="_blank">Hexo</a><span> &amp; </span><a href="https://github.com/chanwj/hexo-theme-meow" target="_blank" title="v2.1.0">Theme Meow</a></div><div class="pageview-site"><span id="busuanzi_container_site_pv">æ€»è®¿é—®é‡ : <span id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner"></i></span></span><span id="busuanzi_container_site_uv">æ€»è®¿å®¢æ•° : <span id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner"></i></span></span></div></div></footer>
<script>const GLOBAL_CONFIG = {
  comment: { theme: 'preferred_color_scheme'}
}
</script>
<script src="/js/third-party/darkmode.js"></script>
<script>var options = {
  dark: '/css/darkmode.css',
  startAt: '24:00',
  endAt: '06:00',
  checkSystemScheme: 'false',
  saveOnToggle: 'true'
};
var darkMode = new DarkMode(options);
// change comment theme synchronously åŒæ­¥ä¿®æ”¹è¯„è®ºåŒºä¸»é¢˜
if (darkMode.getMode() == "dark" && (true || true)) {
  if (document.getElementById('comment')) {
    document.getElementById('comment').getElementsByTagName('script')[0].setAttribute('data-theme', 'noborder_dark');
  }
}
</script><script>if (localStorage.getItem('font-size')) {
  document.querySelector('.post-content').style.fontSize = localStorage.getItem('font-size') + 'px';
}
</script>
<script src="/js/theme/tool-bar.js"></script>


<script src="/js/theme/menu.js"></script>


<script src="/js/third-party/clipboard.min.js"></script>


<script src="/js/theme/copy.js"></script>
<script>copyCode();
</script>
<script src="/js/jquery-3.7.1.min.js"></script>


<script src="/js/theme/search.js"></script>
<script>searchFunc('/search.xml', 'search-input', 'search-result');
</script></body></html>